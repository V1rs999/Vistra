fetch("/api/posts/").then(n=>n.json()).then(n=>{[{buttonId:"action1",containerId:"action_bx",genre:"action"},{buttonId:"drama1",containerId:"drama_bx",genre:"drama"},{buttonId:"comady1",containerId:"comady_bx",genre:"comady"},{buttonId:"biography1",containerId:"biography_bx",genre:"biography"},{buttonId:"documentary1",containerId:"documentary_bx",genre:"documentary"},{buttonId:"crime1",containerId:"crime_bx",genre:"crime"}].forEach(({buttonId:e,containerId:a,genre:t})=>{const c=document.getElementById(e),d=document.getElementById(a);c.addEventListener("click",()=>{c.classList.toggle("cato_button_active"),d.classList.toggle("movie_box_active")}),((n,e)=>{n.forEach(n=>{const{picture:a,title:t,year:c,url:d,rate:o}=n,r=document.createElement("div");r.classList.add("card"),r.innerHTML=`\n        <a href="/player?url=${encodeURIComponent(d)}"> \x3c!-- Add the URL as a query parameter --\x3e  \n          <div>\n            <img src="${a}" alt="${t}">\n          </div>\n        </a>\n          <div class="content">\n            <h2>${t}</h2>\n            <div class="metadata">\n                <span>${c}</span>\n                <div class="rate">\n                  <i class="fas fa-heart"></i>\n                  <i class="fas fa-eye"></i>\n                  <i class="fas fa-star"></i>\n                  <span>${o}</span>\n                </div>\n            </div>\n          </div>\n        `,e.appendChild(r)})})((e=>n.filter(n=>n.genre==e))(t),d)})}).catch(n=>{console.log("Помилка при отриманні даних з сервера:",n)});