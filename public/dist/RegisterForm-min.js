const form=document.getElementById("form"),username=document.getElementById("username"),email=document.getElementById("email"),pass1=document.getElementById("pass1"),pass2=document.getElementById("pass2");form.addEventListener("submit",async e=>{e.preventDefault();const s=document.getElementById("email").value,t=document.getElementById("username").value,r=document.getElementById("pass1").value;try{const e=await fetch("/auth/registration",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:t,email:s,password:r})}),a=await e.json();console.log(a),e.ok&&(window.location.href="/Login"),document.getElementById("username").value="",document.getElementById("email").value="",document.getElementById("pass1").value="",validateInputs()}catch(e){console.error(e)}});const setError=(e,s)=>{const t=e.parentElement;t.querySelector(".error").innerText=s,t.classList.add("error"),t.classList.remove("success")},setSuccess=e=>{const s=e.parentElement;s.querySelector(".error").innerText="",s.classList.add("success"),s.classList.remove("error")},isValidEmail=e=>{return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase())},validateInputs=()=>{const e=username.value.trim(),s=email.value.trim(),t=pass1.value.trim(),r=pass2.value.trim();""===e?setError(username,"Username is required"):setSuccess(username),""===s?setError(email,"Email is required"):isValidEmail(s)?setSuccess(email):setError(email,"Not a valid email address"),""===t?setError(pass1,"Password is required"):t<8?setError(pass1,"Password must be at least 8 character."):setSuccess(pass1),""===r?setError(pass2,"Please confirm your password"):r!==t?setError(pass2,"Passwords doesn't match"):setSuccess(pass2)};