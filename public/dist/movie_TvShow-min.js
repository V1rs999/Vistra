fetch("/api/posts/").then(e=>e.json()).then(e=>{let a=document.getElementById("all"),n=document.getElementById("all_btn");n.addEventListener("click",()=>{n.classList.toggle("cato_button_active"),a.classList.toggle("box2_actives")}),e.filter(e=>"action"==e.genre||"drama"==e.genre||"biography"==e.genre||"comady"==e.genre||"documentary"==e.genre||"crime"==e.genre).forEach(e=>{const{picture:n,title:t,year:s,url:c,rate:i}=e;let r=document.createElement("div");r.classList.add("card"),r.innerHTML=`\n            <a href="/player?url=${encodeURIComponent(c)}"> \x3c!-- Add the URL as a query parameter --\x3e  \n          <div>\n            <img src="${n}" alt="${t}">\n          </div>\n        </a>\n          <div class="content">\n            <h2>${t}</h2>\n            <div class="metadata">\n                <span>${s}</span>\n                <div class="rate">\n                  <i class="fas fa-heart"></i>\n                  <i class="fas fa-eye"></i>\n                  <i class="fas fa-star"></i>\n                  <span>${i}</span>\n                </div>\n            </div>\n          </div>\n        `,a.appendChild(r)});function t(e,a,n,t,s){const c=document.createElement("div");return c.classList.add("card"),c.innerHTML=`\n        <a href="/player?url=${encodeURIComponent(t)}"> \x3c!-- Add the URL as a query parameter --\x3e  \n        <div>\n          <img src="${e}" alt="${a}">\n        </div>\n      </a>\n        <div class="content">\n          <h2>${a}</h2>\n          <div class="metadata">\n              <span>${n}</span>\n              <div class="rate">\n                <i class="fas fa-heart"></i>\n                <i class="fas fa-eye"></i>\n                <i class="fas fa-star"></i>\n                <span>${s}</span>\n              </div>\n          </div>\n        </div>\n      `,c}[{btnId:"year2023__btn",containerId:"year_2023",year:"2023"},{btnId:"year2022__btn",containerId:"year_2022",year:"2022"},{btnId:"year2021__btn",containerId:"year_2021",year:"2021"},{btnId:"year2020__btn",containerId:"year_2020",year:"2020"}].forEach(({btnId:s,containerId:c,year:i})=>{const r=document.getElementById(s),d=document.getElementById(c);r.addEventListener("click",()=>{a.classList.remove("box2_actives"),n.classList.remove("cato_button_active"),r.classList.toggle("cato_button_active"),d.classList.toggle("box2_actives")}),e.filter(e=>e.year==i).forEach(e=>{const{picture:a,title:n,year:s,url:c,rate:i}=e,r=t(a,n,s,c,i);d.appendChild(r)})});function t(e,a,n,t,s){const c=document.createElement("div");return c.classList.add("card"),c.innerHTML=`\n    <a href="/player?url=${encodeURIComponent(t)}"> \x3c!-- Add the URL as a query parameter --\x3e  \n    <div>\n      <img src="${e}" alt="${a}">\n    </div>\n  </a>\n    <div class="content">\n      <h2>${a}</h2>\n      <div class="metadata">\n          <span>${n}</span>\n          <div class="rate">\n            <i class="fas fa-heart"></i>\n            <i class="fas fa-eye"></i>\n            <i class="fas fa-star"></i>\n            <span>${s}</span>\n          </div>\n      </div>\n    </div>\n  `,c}[{btnId:"letter_a_btn",containerId:"letter_a",content:"a"},{btnId:"letter_b_btn",containerId:"letter_b",content:"b"},{btnId:"letter_c_btn",containerId:"letter_c",content:"c"},{btnId:"letter_d_btn",containerId:"letter_d",content:"d"}].forEach(({btnId:a,containerId:n,content:s})=>{const c=document.getElementById(a),i=document.getElementById(n);c.addEventListener("click",()=>{c.classList.toggle("cato_button_active"),i.classList.toggle("box2_actives")}),e.filter(e=>e.content==s).forEach(e=>{const{picture:a,title:n,year:s,url:c,rate:r}=e,d=t(a,n,s,c,r);i.appendChild(d)})});let s=document.getElementById("change_input");s.addEventListener("change",()=>{s.value>=5?c.classList.add("box2_actives"):c.classList.remove("box2_actives"),s.value<=5?i.classList.add("box2_actives"):i.classList.remove("box2_actives"),5==s.value&&(i.classList.remove("box2_actives"),c.classList.remove("box2_actives"))});let c=document.getElementById("rate8");e.filter(e=>e.rate>5).forEach(e=>{const{picture:a,title:n,year:t,url:s,rate:i}=e;let r=document.createElement("div");r.classList.add("card"),r.innerHTML=`\n              <a href="/player?url=${encodeURIComponent(s)}"> \x3c!-- Add the URL as a query parameter --\x3e  \n          <div>\n            <img src="${a}" alt="${n}">\n          </div>\n        </a>\n          <div class="content">\n            <h2>${n}</h2>\n            <div class="metadata">\n                <span>${t}</span>\n                <div class="rate">\n                  <i class="fas fa-heart"></i>\n                  <i class="fas fa-eye"></i>\n                  <i class="fas fa-star"></i>\n                  <span>${i}</span>\n                </div>\n            </div>\n          </div>\n        `,c.appendChild(r)});let i=document.getElementById("rate4");e.filter(e=>e.rate<=5).forEach(e=>{const{picture:a,title:n,year:t,url:s,rate:c}=e;let r=document.createElement("div");r.classList.add("card"),r.innerHTML=`\n              <a href="/player?url=${encodeURIComponent(s)}"> \x3c!-- Add the URL as a query parameter --\x3e  \n          <div>\n            <img src="${a}" alt="${n}">\n          </div>\n        </a>\n          <div class="content">\n            <h2>${n}</h2>\n            <div class="metadata">\n                <span>${t}</span>\n                <div class="rate">\n                  <i class="fas fa-heart"></i>\n                  <i class="fas fa-eye"></i>\n                  <i class="fas fa-star"></i>\n                  <span>${c}</span>\n                </div>\n            </div>\n          </div>\n        `,i.appendChild(r)})}).catch(e=>{console.log("Помилка при отриманні даних з сервера:",e)});